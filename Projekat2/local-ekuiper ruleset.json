{
  "streams": {
    "apds_data": "\n              CREATE STREAM apds_data\n              ()\n              WITH (DATASOURCE=\"topic/apds\", FORMAT=\"json\", CONF_KEY=\"docker-mqtt\", TYPE=\"mqtt\", SHARED=\"false\", );\n          ",
    "imu_data": "\n              CREATE STREAM imu_data\n              ()\n              WITH (DATASOURCE=\"topic/imu\", FORMAT=\"json\", CONF_KEY=\"docker-mqtt\", TYPE=\"mqtt\", SHARED=\"false\", );\n          ",
    "lps_data": "\n              CREATE STREAM lps_data\n              ()\n              WITH (DATASOURCE=\"topic/lps\", FORMAT=\"json\", CONF_KEY=\"docker-mqtt\", TYPE=\"mqtt\", SHARED=\"false\", );\n          ",
    "ubicomp": "\n              CREATE STREAM ubicomp\n              ()\n              WITH (DATASOURCE=\"topic/imu\", FORMAT=\"json\", CONF_KEY=\"docker-mqtt\", TYPE=\"mqtt\", SHARED=\"false\", );\n          "
  },
  "tables": {},
  "rules": {
    "alarmLight": "{\"triggered\":true,\"id\":\"alarmLight\",\"sql\":\"select round((0.2126 * r / 255 + 0.7152 * g / 255 + 0.0722 * b / 255) * 100) / 100.0 as brightness, a\\nfrom apds_data\\nwhere brightness \\u003c 0.3 AND a \\u003c 50;\",\"actions\":[{\"mqtt\":{\"bufferLength\":1024,\"enableCache\":false,\"format\":\"json\",\"omitIfEmpty\":false,\"runAsync\":false,\"sendSingle\":true,\"server\":\"tcp://mqtt:1884\",\"topic\":\"ubicomp/alarmLight\"}}],\"options\":{\"isEventTime\":false,\"lateTolerance\":1000,\"concurrency\":1,\"bufferLength\":1024,\"sendMetaToSink\":false,\"sendError\":true,\"qos\":0,\"checkpointInterval\":300000,\"restartStrategy\":{\"attempts\":0,\"delay\":1000,\"multiplier\":2,\"maxDelay\":30000,\"jitter\":0.1}}}",
    "alarmPress": "{\"triggered\":true,\"id\":\"alarmPress\",\"sql\":\"SELECT pressure FROM lps_data \\nWHERE pressure \\u003c= 98.8 OR pressure \\u003e= 103.5;\",\"actions\":[{\"mqtt\":{\"bufferLength\":1024,\"enableCache\":false,\"format\":\"json\",\"omitIfEmpty\":false,\"runAsync\":false,\"sendSingle\":true,\"server\":\"tcp://mqtt:1884\",\"topic\":\"ubicomp/alarmPress\"}}],\"options\":{\"isEventTime\":false,\"lateTolerance\":1000,\"concurrency\":1,\"bufferLength\":1024,\"sendMetaToSink\":false,\"sendError\":true,\"qos\":0,\"checkpointInterval\":300000,\"restartStrategy\":{\"attempts\":0,\"delay\":1000,\"multiplier\":2,\"maxDelay\":30000,\"jitter\":0.1}}}",
    "alarmProximity": "{\"triggered\":true,\"id\":\"alarmProximity\",\"sql\":\"SELECT proximity FROM apds_data \\nWHERE proximity \\u003c 50\\nGROUP BY sensorID, HOPPINGWINDOW(ss, 10, 5) HAVING count(proximity) \\u003e 3;\\n\",\"actions\":[{\"mqtt\":{\"bufferLength\":1024,\"enableCache\":false,\"format\":\"json\",\"omitIfEmpty\":false,\"runAsync\":false,\"sendSingle\":true,\"server\":\"tcp://mqtt:1884\",\"topic\":\"ubicomp/alarmProximity\"}}],\"options\":{\"isEventTime\":false,\"lateTolerance\":1000,\"concurrency\":1,\"bufferLength\":1024,\"sendMetaToSink\":false,\"sendError\":true,\"qos\":0,\"checkpointInterval\":300000,\"restartStrategy\":{\"attempts\":0,\"delay\":1000,\"multiplier\":2,\"maxDelay\":30000,\"jitter\":0.1}}}",
    "gesture": "{\"triggered\":true,\"id\":\"gesture\",\"sql\":\"select gesture from apds_data;\",\"actions\":[{\"mqtt\":{\"bufferLength\":1024,\"enableCache\":false,\"format\":\"json\",\"omitIfEmpty\":false,\"runAsync\":false,\"sendSingle\":true,\"server\":\"tcp://mqtt:1884\",\"topic\":\"ubicomp/gesture\"}}],\"options\":{\"isEventTime\":false,\"lateTolerance\":1000,\"concurrency\":1,\"bufferLength\":1024,\"sendMetaToSink\":false,\"sendError\":true,\"qos\":0,\"checkpointInterval\":300000,\"restartStrategy\":{\"attempts\":0,\"delay\":1000,\"multiplier\":2,\"maxDelay\":30000,\"jitter\":0.1}}}",
    "high_temperature": "{\"triggered\":true,\"id\":\"high_temperature\",\"sql\":\"select temperature from lps_data\\nwhere temperature \\u003e 35.2;\",\"actions\":[{\"mqtt\":{\"bufferLength\":1024,\"enableCache\":false,\"format\":\"json\",\"omitIfEmpty\":false,\"runAsync\":false,\"sendSingle\":true,\"server\":\"tcp://mqtt:1884\",\"topic\":\"ubicomp/alarmHighTemp\"}}],\"options\":{\"isEventTime\":false,\"lateTolerance\":1000,\"concurrency\":1,\"bufferLength\":1024,\"sendMetaToSink\":false,\"sendError\":true,\"qos\":0,\"checkpointInterval\":300000,\"restartStrategy\":{\"attempts\":0,\"delay\":1000,\"multiplier\":2,\"maxDelay\":30000,\"jitter\":0.1}}}",
    "low_temperature": "{\"triggered\":true,\"id\":\"low_temperature\",\"sql\":\"SELECT avg(temperature) FROM lps_data GROUP BY TUMBLINGWINDOW(ss, 10) HAVING avg(temperature) \\u003c 27.5;\\n\",\"actions\":[{\"mqtt\":{\"bufferLength\":1024,\"enableCache\":false,\"format\":\"json\",\"omitIfEmpty\":false,\"runAsync\":false,\"sendSingle\":true,\"server\":\"tcp://mqtt:1884\",\"topic\":\"ubicomp/alarmLowTemp\"}}],\"options\":{\"isEventTime\":false,\"lateTolerance\":1000,\"concurrency\":1,\"bufferLength\":1024,\"sendMetaToSink\":false,\"sendError\":true,\"qos\":0,\"checkpointInterval\":300000,\"restartStrategy\":{\"attempts\":0,\"delay\":1000,\"multiplier\":2,\"maxDelay\":30000,\"jitter\":0.1}}}",
    "lps": "{\"triggered\":true,\"id\":\"lps\",\"sql\":\"select temperature, pressure from lps_data;\",\"actions\":[{\"mqtt\":{\"bufferLength\":1024,\"enableCache\":false,\"format\":\"json\",\"omitIfEmpty\":false,\"runAsync\":false,\"sendSingle\":true,\"server\":\"tcp://mqtt:1884\",\"topic\":\"ubicomp/lps\"}}],\"options\":{\"isEventTime\":false,\"lateTolerance\":1000,\"concurrency\":1,\"bufferLength\":1024,\"sendMetaToSink\":false,\"sendError\":true,\"qos\":0,\"checkpointInterval\":300000,\"restartStrategy\":{\"attempts\":0,\"delay\":1000,\"multiplier\":2,\"maxDelay\":30000,\"jitter\":0.1}}}",
    "motion": "{\"id\":\"motion\",\"sql\":\"SELECT (round(avg(accX) * 100) / 100) as accX,\\n(round(avg(accY) * 100) / 100) as accY,\\n(round(avg(accZ) * 100) / 100) as accZ,\\n(round(avg(gyrX) * 100) / 100) as gyrX,\\n(round(avg(gyrY) * 100) / 100) as gyrY,\\n(round(avg(gyrZ) * 100) / 100) as gyrZ\\nFROM imu_data GROUP BY TUMBLINGWINDOW(ss, 3);\",\"actions\":[{\"mqtt\":{\"bufferLength\":1024,\"enableCache\":false,\"format\":\"json\",\"omitIfEmpty\":false,\"runAsync\":false,\"sendSingle\":true,\"server\":\"tcp://mqtt:1884\",\"topic\":\"ubicomp/motion\"}}],\"options\":{\"isEventTime\":false,\"lateTolerance\":1000,\"concurrency\":1,\"bufferLength\":1024,\"sendMetaToSink\":false,\"sendError\":true,\"qos\":0,\"checkpointInterval\":300000,\"restartStrategy\":{\"attempts\":0,\"delay\":1000,\"multiplier\":2,\"maxDelay\":30000,\"jitter\":0.1}}}",
    "press": "{\"id\":\"press\",\"sql\":\"SELECT (round(avg(pressure) * 100) / 100) as pressure FROM lps_data GROUP BY TUMBLINGWINDOW(ss, 3);\",\"actions\":[{\"mqtt\":{\"bufferLength\":1024,\"enableCache\":false,\"format\":\"json\",\"omitIfEmpty\":false,\"runAsync\":false,\"sendSingle\":true,\"server\":\"tcp://mqtt:1884\",\"topic\":\"ubicomp/press\"}}],\"options\":{\"isEventTime\":false,\"lateTolerance\":1000,\"concurrency\":1,\"bufferLength\":1024,\"sendMetaToSink\":false,\"sendError\":true,\"qos\":0,\"checkpointInterval\":300000,\"restartStrategy\":{\"attempts\":0,\"delay\":1000,\"multiplier\":2,\"maxDelay\":30000,\"jitter\":0.1}}}",
    "temp": "{\"id\":\"temp\",\"sql\":\"SELECT (round(avg(temperature) * 100) / 100) as temperature FROM lps_data GROUP BY TUMBLINGWINDOW(ss, 3);\",\"actions\":[{\"mqtt\":{\"bufferLength\":1024,\"enableCache\":false,\"format\":\"json\",\"omitIfEmpty\":false,\"runAsync\":false,\"sendSingle\":true,\"server\":\"tcp://mqtt:1884\",\"topic\":\"ubicomp/temp\"}}],\"options\":{\"isEventTime\":false,\"lateTolerance\":1000,\"concurrency\":1,\"bufferLength\":1024,\"sendMetaToSink\":false,\"sendError\":true,\"qos\":0,\"checkpointInterval\":300000,\"restartStrategy\":{\"attempts\":0,\"delay\":1000,\"multiplier\":2,\"maxDelay\":30000,\"jitter\":0.1}}}"
  }
}